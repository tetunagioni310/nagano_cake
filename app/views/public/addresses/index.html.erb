<h1>配送先登録/一覧</h1>
<%= form_with model: @address, url: public_addresses_path, method: :post do |f| %>
<%= render "public/shared/error_messages", resource: @address %>

<div class="flex margin-top">
  <table class="table4">
  <tr>
    <td>郵便番号（ハイフンなし）</td>
    <td colspan="2"><%= f.text_field :postal_code, placeholder: "0000000", class: "form-size2" %></td>
  </tr>
  
  <tr>
    <td>住所</td>
    <td colspan="2"><%= f.text_field :address, placeholder: "東京都渋谷区代々木神園町0-0", class: "form-size3" %></td>
  </tr>
  
  <tr>
    <td>宛名</td>
    <td>
      <%= f.text_field :name, placeholder: "令和道子", class: "form-size2" %>
      <%= f.hidden_field :customer_id, :value => current_customer.id %>
    </td>
    <td><%= f.submit "新規登録", class: "btn btn-new-record" %></td>
  </tr>
</table>

</div>
<% end %>


<table border="1" class="table4 margin-top">
  <thead>
    <tr>
      <th>郵便番号</th>
      <th>住所</th>
      <th>宛名</th>
      <th></th>
    </tr>
  </thead>
  
  <tbody>
    <% @addresses.each do |address| %>
    <tr>
      <td><%= address.postal_code %></td>
      <td><%= address.address%></td>
      <td><%= address.name %></td>
      <td class="address-ed">
        <%= link_to "編集する", edit_public_address_path(current_customer.id), class: "btn btn-edit" %><%= link_to "削除する", public_address_path(address.id), method: :delete, data: {confirm: "本当にしますか？"}, class: "btn btn-delete margin-left3" %>
        </td>
    </tr>
    <% end %>
  </tbody>
</table>

